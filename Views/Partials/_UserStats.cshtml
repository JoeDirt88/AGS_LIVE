@model AGS.ServerAPI.View_Models.AllStats

<div class="card bg-primary">
    <div class="card-header">
        <h4><i class="fas fa-users"></i> User Statistics</h4>
    </div>
    <div class="card-body">
        <div class="row match-height">
            <div class="col-5">
                <h6>Registered users</h6>
            </div>
            <div class="col-7">
                <p><i class="fas fa-users-cog"></i> @Model.Users.Count</p>
            </div>
        </div>
        <div class="row match-height">
            <div class="col-5">
                <h6>Registered patients</h6>
            </div>
            <div class="col-7">
                <p><i class="fas fa-id-card"></i> @Model.Clients.Count</p>
            </div>
        </div>
        <div class="row match-height">
            <div class="col-5">
                @{
                    var latestClient = Model.Clients.OrderByDescending(dt => dt.dtAddedBy).ToList();
                }
                <h6>Latest patient registration</h6>
            </div>
            <div class="col-7">
                @{
                    {
                        var dtAddedBy = latestClient[0].dtAddedBy;
                        if (dtAddedBy != null)
                        {
                            var date = dtAddedBy.Value;
                            <div class="row match-height">
                                <div class="col-6">
                                    <p><i class="far fa-calendar-alt"></i> @date.ToShortDateString()</p>
                                </div>
                                <div class="col-6">
                                    <p><i class="far fa-clock"></i> @date.ToShortTimeString()</p>
                                </div>
                            </div>
                        }
                        else
                        {
                            <p><i class="fas fa-heart-broken"></i> No Data</p>
                        }
                    }
                }
            </div>
        </div>
        <div class="row match-height">
            <div class="col-5">
                @{
                    var latestResult = Model.Results.OrderByDescending(dt => dt.dtAddedBy).ToList();
                }
                <h6>Latest patient result</h6>
            </div>
            <div class="col-7">
                @{
                    {
                        var dtAddedBy = latestResult[0].dtAddedBy;
                        if (dtAddedBy != null)
                        {
                            var date = dtAddedBy.Value;
                            <div class="row match-height">
                                <div class="col-6">
                                    <p><i class="far fa-calendar-alt"></i> @date.ToShortDateString()</p>
                                </div>
                                <div class="col-6">
                                    <p><i class="far fa-clock"></i> @date.ToShortTimeString()</p>
                                </div>
                            </div>
                        }
                        else
                        {
                            <p><i class="fas fa-heart-broken"></i> No Data</p>
                        }
                    }
                }
            </div>
        </div>
        <div class="row match-height">
            <div class="col-5">
                <h6>Total patient results</h6>
            </div>
            <div class="col-7">
                <p><i class="fas fa-poll"></i> @Model.Results.Count total result(s)</p>
            </div>
        </div>
    </div>
</div>
